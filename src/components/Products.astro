---
import { ArrowRight } from 'lucide-react';
import { fragrances, getFirstImage } from '../data/fragrances';

// Obtener las primeras 3 fragancias con im√°genes para mostrar en la p√°gina de inicio
const featuredFragrances = fragrances.filter(f => f.hasImages).slice(0, 3);
---

<section id="fragancias" class="py-20 bg-gradient-to-br from-dark-teal-dark via-dark-teal to-dark-teal-light relative overflow-x-hidden">
  <div class="absolute inset-0 opacity-5" style="background-image: radial-gradient(circle at 2px 2px, rgba(193, 154, 107, 0.1) 1px, transparent 0); background-size: 30px 30px;"></div>
  <div class="absolute top-1/3 -left-16 w-80 h-80 bg-rose-gold/5 rounded-full blur-3xl"></div>
  <div class="absolute bottom-1/3 -right-16 w-72 h-72 bg-rose-gold-light/5 rounded-full blur-3xl"></div>
  <div class="max-w-7xl mx-auto px-8 sm:px-12 lg:px-16 w-full relative z-10">
    <!-- Header -->
    <div class="text-center mb-16">
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-slate-100 mb-6">
        Nuestras <span class="text-gradient">Fragancias</span>
      </h2>
      <p class="text-lg sm:text-xl text-slate-300 max-w-3xl mx-auto">
        Descubre nuestra colecci√≥n cuidadosamente seleccionada de fragancias orientales 
        aut√©nticas, importadas directamente desde Dubai.
      </p>
    </div>

    <!-- Featured Perfumes -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 sm:gap-10 mb-16">
      {featuredFragrances.map((fragrance) => {
        const imageSrc = getFirstImage(fragrance);
        const genderText = fragrance.gender === 'masculino' ? 'Masculina' : fragrance.gender === 'femenino' ? 'Femenina' : 'Unisex';

        return (
          <div class="card-glass group hover:scale-105 transition-transform duration-300 h-full flex flex-col">
            <a href={`/perfumes/${fragrance.id}`} class="block">
              <div class="aspect-square bg-gradient-to-br from-rose-gold to-rose-gold-dark rounded-xl mb-6 overflow-hidden group-hover:scale-105 transition-transform cursor-pointer">
                {imageSrc && imageSrc !== '/assets/images/placeholder.jpg' ? (
                  <img src={imageSrc} alt={fragrance.displayName} class="w-full h-full object-cover" />
                ) : (
                  <div class="w-full h-full flex items-center justify-center">
                    <span class="text-6xl">üß¥</span>
                  </div>
                )}
              </div>
            </a>
            <div class="text-center flex-1 flex flex-col">
              <a href={`/perfumes/${fragrance.id}`} class="block cursor-pointer">
                <h3 class="text-xl font-semibold text-slate-100 mb-2">{fragrance.displayName.toUpperCase()}</h3>
              </a>
              <p class="text-slate-400 mb-4">{genderText}</p>
              <p class="text-sm text-slate-300 mb-6 flex-1">{fragrance.displayName} es una fragancia {fragrance.category} {fragrance.gender} que ofrece una experiencia olfativa √∫nica e intensa.</p>
              <div class="flex items-center justify-between mb-4">
                <span class="text-2xl font-bold text-rose-gold">Consultar Precio</span>
                <span class="text-sm text-slate-400">8-12h</span>
              </div>
              <a href={`/perfumes/${fragrance.id}`} class="w-full btn-primary flex items-center justify-center space-x-2 group">
                <span>Ver Detalles</span>
                <ArrowRight className="w-4 h-4 group-hover:translate-x-1 transition-transform" />
              </a>
            </div>
          </div>
        );
      })}
    </div>

    <!-- CTA Section -->
    <div class="text-center">
      <a href="/fragancias" class="btn-primary inline-flex items-center justify-center space-x-2">
        <span>Ver Todas las Fragancias</span>
        <ArrowRight className="w-5 h-5" />
      </a>
    </div>
  </div>
</section>