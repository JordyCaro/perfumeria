---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import { Truck, Shield, RotateCcw } from 'lucide-react';

// Datos de perfumes con mapeo de nombres a IDs
const perfumes = {
  'sutor': {
    id: 'sutor',
    name: "SUTOR",
    gender: "femenino",
    category: "floral",
    price: 85000,
    originalPrice: 120000,
    image: "🧴",
    description: "Fragancia femenina elegante con notas florales y dulces que evocan sofisticación y feminidad.",
    longDescription: "SUTOR es una fragancia femenina que captura la esencia de la elegancia moderna. Con notas florales delicadas y un toque dulce, esta fragancia es perfecta para la mujer que busca sofisticación y feminidad en su día a día.",
    notes: {
      top: ["Bergamota", "Frutas dulces", "Notas acuáticas"],
      middle: ["Jazmín", "Rosa", "Fresia"],
      base: ["Vainilla", "Ámbar", "Musk", "Sándalo"]
    },
    occasion: "día",
    season: "primavera-verano",
    rating: 4.8,
    reviews: 127,
    stock: 15,
    size: "100ml",
    concentration: "Eau de Parfum",
    longevity: "6-8 horas",
    projection: "Moderada",
    sillage: "Suave",
    ingredients: "Alcohol, Agua, Fragancia, Colorantes",
    madeIn: "Dubai, UAE",
    brand: "Lattafa Perfumes"
  },
  'liam-grey': {
    id: 'liam-grey',
    name: "LIAM GREY",
    gender: "masculino",
    category: "amaderado",
    price: 95000,
    originalPrice: 140000,
    image: "🧴",
    description: "Fragancia masculina moderna con notas amaderadas y especiadas que transmiten elegancia y sofisticación.",
    longDescription: "LIAM GREY es una fragancia masculina que combina la fuerza de las maderas nobles con la sofisticación de las especias orientales. Perfecta para el hombre moderno que busca distinción y elegancia.",
    notes: {
      top: ["Pimienta", "Bergamota", "Lavanda"],
      middle: ["Sándalo", "Vetiver", "Cedro"],
      base: ["Ámbar", "Musk", "Pachulí"]
    },
    occasion: "día",
    season: "otoño-invierno",
    rating: 4.7,
    reviews: 89,
    stock: 12,
    size: "100ml",
    concentration: "Eau de Parfum",
    longevity: "8-10 horas",
    projection: "Alta",
    sillage: "Moderada",
    ingredients: "Alcohol, Agua, Fragancia, Colorantes",
    madeIn: "Dubai, UAE",
    brand: "Lattafa Perfumes"
  },
  'khamrah': {
    id: 'khamrah',
    name: "KHAMRAH",
    gender: "unisex",
    category: "oriental",
    price: 120000,
    originalPrice: 180000,
    image: "🧴",
    description: "Fragancia oriental intensa con notas de especias, ámbar y oud que crea una experiencia sensorial única.",
    longDescription: "KHAMRAH es una fragancia oriental unisex que combina la riqueza de las especias exóticas con la calidez del ámbar y la vainilla. Perfecta para ocasiones especiales y momentos íntimos.",
    notes: {
      top: ["Canela", "Cardamomo", "Pimienta rosa"],
      middle: ["Ámbar", "Vainilla", "Tonka"],
      base: ["Sándalo", "Musk", "Ámbar gris"]
    },
    occasion: "noche",
    season: "otoño-invierno",
    rating: 4.9,
    reviews: 89,
    stock: 8,
    size: "100ml",
    concentration: "Eau de Parfum",
    longevity: "8-10 horas",
    projection: "Alta",
    sillage: "Moderada",
    ingredients: "Alcohol, Agua, Fragancia, Colorantes",
    madeIn: "Dubai, UAE",
    brand: "Lattafa Perfumes"
  },
  'musamam-white': {
    id: 'musamam-white',
    name: "MUSAMAM WHITE",
    gender: "femenino",
    category: "floral",
    price: 78000,
    originalPrice: 110000,
    image: "🧴",
    description: "Fragancia femenina fresca con notas florales blancas y cítricas que transmiten pureza y elegancia.",
    longDescription: "MUSAMAM WHITE es una fragancia floral femenina que captura la pureza y elegancia de las flores blancas. Con notas cítricas frescas y un corazón floral delicado.",
    notes: {
      top: ["Limón", "Bergamota", "Notas acuáticas"],
      middle: ["Jazmín", "Lirio", "Fresia"],
      base: ["Vainilla", "Musk", "Sándalo"]
    },
    occasion: "día",
    season: "primavera-verano",
    rating: 4.6,
    reviews: 95,
    stock: 18,
    size: "100ml",
    concentration: "Eau de Parfum",
    longevity: "6-8 horas",
    projection: "Moderada",
    sillage: "Suave",
    ingredients: "Alcohol, Agua, Fragancia, Colorantes",
    madeIn: "Dubai, UAE",
    brand: "Lattafa Perfumes"
  },
  'amthyst-morada': {
    id: 'amthyst-morada',
    name: "AMTHYST (MORADA)",
    gender: "unisex",
    category: "oriental",
    price: 105000,
    originalPrice: 150000,
    image: "🧴",
    description: "Fragancia unisex con notas florales púrpuras y especias orientales que crean un aroma místico y envolvente.",
    longDescription: "AMTHYST es una fragancia unisex que combina la misteriosidad de las flores púrpuras con la riqueza de las especias orientales. Una fragancia única y envolvente.",
    notes: {
      top: ["Lavanda", "Bergamota", "Pimienta"],
      middle: ["Rosa", "Jazmín", "Especias"],
      base: ["Ámbar", "Musk", "Sándalo"]
    },
    occasion: "noche",
    season: "otoño-invierno",
    rating: 4.8,
    reviews: 67,
    stock: 10,
    size: "100ml",
    concentration: "Eau de Parfum",
    longevity: "8-10 horas",
    projection: "Alta",
    sillage: "Moderada",
    ingredients: "Alcohol, Agua, Fragancia, Colorantes",
    madeIn: "Dubai, UAE",
    brand: "Lattafa Perfumes"
  }
};

export async function getStaticPaths() {
  const perfumesData = {
    'sutor': { id: 'sutor' },
    'liam-grey': { id: 'liam-grey' },
    'khamrah': { id: 'khamrah' },
    'musamam-white': { id: 'musamam-white' },
    'amthyst-morada': { id: 'amthyst-morada' }
  };
  
  return Object.keys(perfumesData).map(id => ({
    params: { id }
  }));
}

const { id } = Astro.params;
const perfume = perfumes[id];

if (!perfume) {
  return Astro.redirect('/fragancias');
}
---

<Layout title={`${perfume.name} - DAR Perfumes`} description={perfume.description}>
  <Header />
  
  <main class="min-h-screen bg-gradient-to-br from-dark-teal-dark via-dark-teal to-dark-teal-light pt-20">
    <!-- Breadcrumb -->
    <section class="py-4 bg-slate-800/30">
      <div class="max-w-7xl mx-auto px-8 sm:px-12 lg:px-16">
        <nav class="text-sm text-slate-400">
          <a href="/" class="hover:text-rose-gold transition-colors duration-300">Inicio</a>
          <span class="mx-2">/</span>
          <a href="/fragancias" class="hover:text-rose-gold transition-colors duration-300">Fragancias</a>
          <span class="mx-2">/</span>
          <span class="text-slate-300">{perfume.name}</span>
        </nav>
      </div>
    </section>

    <!-- Product Details -->
    <section class="py-12">
      <div class="max-w-7xl mx-auto px-8 sm:px-12 lg:px-16">
        <div class="grid lg:grid-cols-2 gap-12">
          <!-- Product Image -->
          <div class="space-y-4">
            <div class="aspect-square bg-gradient-to-br from-rose-gold to-rose-gold-dark rounded-2xl flex items-center justify-center">
              <span class="text-8xl">{perfume.image}</span>
            </div>
            
            <!-- Additional Images (Placeholder) -->
            <div class="grid grid-cols-4 gap-4">
              <div class="aspect-square bg-gradient-to-br from-rose-gold/50 to-rose-gold-dark/50 rounded-xl flex items-center justify-center">
                <span class="text-4xl">{perfume.image}</span>
              </div>
              <div class="aspect-square bg-gradient-to-br from-rose-gold/50 to-rose-gold-dark/50 rounded-xl flex items-center justify-center">
                <span class="text-4xl">{perfume.image}</span>
              </div>
              <div class="aspect-square bg-gradient-to-br from-rose-gold/50 to-rose-gold-dark/50 rounded-xl flex items-center justify-center">
                <span class="text-4xl">{perfume.image}</span>
              </div>
              <div class="aspect-square bg-gradient-to-br from-rose-gold/50 to-rose-gold-dark/50 rounded-xl flex items-center justify-center">
                <span class="text-4xl">{perfume.image}</span>
              </div>
            </div>
          </div>

          <!-- Product Info -->
          <div class="space-y-6">
            <div>
              <h1 class="text-3xl lg:text-4xl font-bold text-white mb-2">
                {perfume.name}
              </h1>
              <p class="text-lg text-white mb-4">
                {perfume.brand} • {perfume.size} • {perfume.concentration}
              </p>
            </div>

            <div class="space-y-4">
              <p class="text-white leading-relaxed">
                {perfume.longDescription}
              </p>
              
              <div class="grid grid-cols-2 gap-4 text-sm">
                <div>
                  <span class="text-white">Género:</span>
                  <span class="text-white ml-2 capitalize">{perfume.gender}</span>
                </div>
                <div>
                  <span class="text-white">Ocasión:</span>
                  <span class="text-white ml-2 capitalize">{perfume.occasion}</span>
                </div>
                <div>
                  <span class="text-white">Estación:</span>
                  <span class="text-white ml-2 capitalize">{perfume.season}</span>
                </div>
                <div>
                  <span class="text-white">Duración:</span>
                  <span class="text-white ml-2">{perfume.longevity}</span>
                </div>
              </div>
            </div>

            <!-- Price -->
            <div class="space-y-2">
              <div class="flex items-center space-x-4">
                <span class="text-3xl font-bold text-rose-gold">
                  Consultar Precio
                </span>
              </div>
            </div>

            <!-- Action Buttons -->
            <div class="space-y-4">
              <a href="/fragancias" class="w-full btn-primary flex items-center justify-center space-x-2 group">
                <span>Ver Todas las Fragancias</span>
                <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
              </a>
            </div>

            <!-- Features -->
            <div class="grid grid-cols-3 gap-4 pt-6 border-t border-slate-700">
              <div class="text-center">
                <Truck class="w-8 h-8 text-rose-gold mx-auto mb-3" />
                <p class="text-sm text-white font-medium">Envío Gratis</p>
              </div>
              <div class="text-center">
                <Shield class="w-8 h-8 text-rose-gold mx-auto mb-3" />
                <p class="text-sm text-white font-medium">100% Auténtico</p>
              </div>
              <div class="text-center">
                <RotateCcw class="w-8 h-8 text-rose-gold mx-auto mb-3" />
                <p class="text-sm text-white font-medium">Devolución</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Fragrance Notes -->
    <section class="py-16 bg-slate-800/30">
      <div class="max-w-7xl mx-auto px-8 sm:px-12 lg:px-16">
        <h2 class="text-3xl font-bold text-white mb-12 text-center">
          Notas de la Fragancia
        </h2>
        
        <div class="grid md:grid-cols-3 gap-8">
          <div class="card-glass text-center">
            <h3 class="text-xl font-semibold text-rose-gold mb-4">Notas de Salida</h3>
            <div class="space-y-2">
              {perfume.notes.top.map(note => (
                <span class="block px-3 py-2 bg-slate-800/50 text-white rounded-lg">
                  {note}
                </span>
              ))}
            </div>
          </div>
          
          <div class="card-glass text-center">
            <h3 class="text-xl font-semibold text-rose-gold mb-4">Notas de Corazón</h3>
            <div class="space-y-2">
              {perfume.notes.middle.map(note => (
                <span class="block px-3 py-2 bg-slate-800/50 text-white rounded-lg">
                  {note}
                </span>
              ))}
            </div>
          </div>
          
          <div class="card-glass text-center">
            <h3 class="text-xl font-semibold text-rose-gold mb-4">Notas de Fondo</h3>
            <div class="space-y-2">
              {perfume.notes.base.map(note => (
                <span class="block px-3 py-2 bg-slate-800/50 text-white rounded-lg">
                  {note}
                </span>
              ))}
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Product Details -->
    <section class="py-16">
      <div class="max-w-7xl mx-auto px-8 sm:px-12 lg:px-16">
        <h2 class="text-3xl font-bold text-white mb-12 text-center">
          Detalles del Producto
        </h2>
        
        <div class="grid md:grid-cols-2 gap-8">
          <div class="card-glass">
            <h3 class="text-xl font-semibold text-white mb-4">Especificaciones</h3>
            <div class="space-y-3">
              <div class="flex justify-between">
                <span class="text-white">Marca:</span>
                <span class="text-white">{perfume.brand}</span>
              </div>
              <div class="flex justify-between">
                <span class="text-white">Tamaño:</span>
                <span class="text-white">{perfume.size}</span>
              </div>
              <div class="flex justify-between">
                <span class="text-white">Concentración:</span>
                <span class="text-white">{perfume.concentration}</span>
              </div>
              <div class="flex justify-between">
                <span class="text-white">Duración:</span>
                <span class="text-white">{perfume.longevity}</span>
              </div>
              <div class="flex justify-between">
                <span class="text-white">Proyección:</span>
                <span class="text-white">{perfume.projection}</span>
              </div>
              <div class="flex justify-between">
                <span class="text-white">Estela:</span>
                <span class="text-white">{perfume.sillage}</span>
              </div>
              <div class="flex justify-between">
                <span class="text-white">Hecho en:</span>
                <span class="text-white">{perfume.madeIn}</span>
              </div>
            </div>
          </div>
          
          <div class="card-glass">
            <h3 class="text-xl font-semibold text-white mb-4">Ingredientes</h3>
            <p class="text-white text-sm leading-relaxed mb-4">
              {perfume.ingredients}
            </p>
            <p class="text-white text-xs">
              * Los ingredientes pueden variar ligeramente según el lote de producción.
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>